See detailed game logic in /docs/FormalState/state-machine.md
